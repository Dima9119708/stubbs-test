{"version":3,"sources":["redux/reducer.js","components/chat/Chat.js","components/form/img/send.svg","components/form/Form.js","components/app/App.js","redux/index.js","index.js"],"names":["MESSAGE","MESSAGE_ID","defaultState","messages","Chat","useState","scroll","setScroll","dispatch","useDispatch","useSelector","$chat","useRef","useEffect","current","scrollTo","top","scrollHeight","behavior","onClick","id","type","payload","className","ref","map","idx","message","date","Form","$input","onSubmit","e","preventDefault","FormData","target","get","trim","Date","now","hours","getHours","minutes","getMinutes","dateString","reset","focus","name","placeholder","src","send","alt","App","store","createStore","state","action","push","splice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oSAAMA,EAAU,UACVC,EAAa,aAKbC,EAAe,CACjBC,SAAU,I,WCyCCC,EApCF,WAAO,IAAD,EACaC,oBAAS,GADtB,mBACRC,EADQ,KACAC,EADA,KAETC,EAAWC,cACXN,EAAWO,aAAY,qBAAGP,YAC1BQ,EAAQC,iBAAO,MAErBC,qBAAU,WACFP,EACAK,EAAMG,QAAQC,SAAS,CACnBC,IAAKL,EAAMG,QAAQG,aACnBC,SAAU,WAGdX,GAAU,KAEf,CAACJ,IAEJ,IAAMgB,EAAU,SAACC,GACbb,GAAU,GACVC,ED3BwC,CAAEa,KAAMpB,EAAYqB,QC2BhCF,KAGhC,OACI,qBAAKG,UAAU,OAAOC,IAAKb,EAA3B,SAEQR,EAASsB,KAAK,WAAwBC,GAAxB,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,KAAMR,EAAlB,EAAkBA,GAAlB,OACV,sBAAKG,UAAU,aAAaJ,QAAS,kBAAMA,EAAQO,IAAnD,UACI,qBAAKH,UAAU,gBAAf,SAAiCI,IACjC,qBAAKJ,UAAU,aAAf,SAA8BK,MAF4BR,SCtCnE,G,MAAA,IAA0B,kCCkD1BS,EA1CF,WACT,IAAMrB,EAAWC,cACXqB,EAASlB,iBAAO,MAwBtB,OACI,uBAAMmB,SAvBO,SAACC,GACdA,EAAEC,iBAEF,IACMN,EADO,IAAIO,SAASF,EAAEG,QACPC,IAAI,WAEzB,GAAKT,EAAQU,OAAb,CAEA,IAAMjB,EAAKkB,KAAKC,MAEVX,EAAO,IAAIU,KACXE,EAAQZ,EAAKa,WACbC,EAAUd,EAAKe,aAEfC,EAAU,UAAMJ,EAAN,YAAeE,EAAU,GAAK,IAAMA,EAAUA,GAE9DlC,EHzBsC,CAAEa,KAAMrB,EAASsB,QGyB7B,CAAEK,UAASC,KAAMgB,EAAYxB,QAEvDY,EAAEG,OAAOU,QACTf,EAAOhB,QAAQgC,UAIWvB,UAAU,OAApC,UACI,uBAAOA,UAAU,cACVC,IAAKM,EACLT,KAAK,OACL0B,KAAK,UACLC,YAAY,0BAGnB,wBAAQzB,UAAU,eAAeF,KAAK,SAAtC,SACI,qBAAK4B,IAAKC,EAAMC,IAAI,eChCrBC,EAPH,kBACR,sBAAK7B,UAAU,OAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,Q,QCLK8B,EAAQC,aLON,WAAgD,IAA/BC,EAA8B,uDAAtBrD,EAAcsD,EAAQ,uCAE1D,OAAQA,EAAOnC,MAEX,KAAKrB,EAAW,IAEJG,EAAaoD,EAAbpD,SAIR,OAFAA,EAASsD,KAAKD,EAAOlC,SAEd,2BACAiC,GADP,IAEIpD,SAAS,YAAKA,KAItB,KAAKF,EAAc,IAEPE,EAAaoD,EAAbpD,SAIR,OAFAA,EAASuD,OAAOF,EAAOlC,QAAS,GAEzB,2BACAiC,GADP,IAEIpD,SAAS,YAAKA,KAItB,QACI,OAAOoD,MMhCnBI,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUR,MAAOA,EAAjB,SACI,cAAC,EAAD,QAGRS,SAASC,eAAe,W","file":"static/js/main.aee73fd7.chunk.js","sourcesContent":["const MESSAGE = 'MESSAGE'\r\nconst MESSAGE_ID = 'MESSAGE_ID'\r\n\r\nexport const setMessageAction = (payload) => ({ type: MESSAGE, payload })\r\nexport const setIDMessageAction = (payload) => ({ type: MESSAGE_ID, payload })\r\n\r\nconst defaultState = {\r\n    messages: [],\r\n}\r\n\r\nexport default function reducer(state = defaultState, action) {\r\n\r\n    switch (action.type) {\r\n\r\n        case MESSAGE : {\r\n\r\n            const { messages } = state\r\n\r\n            messages.push(action.payload)\r\n\r\n            return {\r\n                ...state,\r\n                messages: [...messages]\r\n            }\r\n        }\r\n\r\n        case MESSAGE_ID : {\r\n\r\n            const { messages } = state\r\n\r\n            messages.splice(action.payload, 1)\r\n\r\n            return {\r\n                ...state,\r\n                messages: [...messages]\r\n            }\r\n        }\r\n\r\n        default : {\r\n            return state;\r\n        }\r\n    }\r\n}","import React, {\r\n    useEffect,\r\n    useRef,\r\n    useState\r\n} from 'react';\r\nimport './index.scss'\r\nimport {\r\n    useDispatch,\r\n    useSelector\r\n} from \"react-redux\";\r\nimport { setIDMessageAction } from \"../../redux/reducer\";\r\n\r\nconst Chat = () => {\r\n    const [scroll, setScroll] = useState(true)\r\n    const dispatch = useDispatch()\r\n    const messages = useSelector(({ messages }) => messages)\r\n    const $chat = useRef(null)\r\n\r\n    useEffect(() => {\r\n        if (scroll) {\r\n            $chat.current.scrollTo({\r\n                top: $chat.current.scrollHeight,\r\n                behavior: \"smooth\"\r\n            })\r\n        } else {\r\n            setScroll(true)\r\n        }\r\n    }, [messages])\r\n\r\n    const onClick = (id) => {\r\n        setScroll(false)\r\n        dispatch(setIDMessageAction(id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat\" ref={$chat}>\r\n            {\r\n                messages.map( ({ message, date, id }, idx) =>\r\n                    <div className=\"chat__item\" onClick={() => onClick(idx)} key={id} >\r\n                        <div className=\"chat__message\">{ message }</div>\r\n                        <div className=\"chat__date\">{ date }</div>\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;","export default __webpack_public_path__ + \"static/media/send.bcec1612.svg\";","import React, { useRef } from 'react';\r\nimport \"./index.scss\"\r\nimport send from './img/send.svg'\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n    setMessageAction\r\n} from \"../../redux/reducer\";\r\n\r\nconst Form = () => {\r\n    const dispatch = useDispatch()\r\n    const $input = useRef(null)\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        const form = new FormData(e.target)\r\n        const message = form.get('message')\r\n\r\n        if (!message.trim()) return;\r\n\r\n        const id = Date.now()\r\n\r\n        const date = new Date()\r\n        const hours = date.getHours()\r\n        const minutes = date.getMinutes()\r\n\r\n        const dateString = `${hours}:${minutes < 10 ? '0' + minutes : minutes}`\r\n\r\n        dispatch(setMessageAction({ message, date: dateString, id }))\r\n\r\n        e.target.reset()\r\n        $input.current.focus()\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"form\">\r\n            <input className=\"form__input\"\r\n                   ref={$input}\r\n                   type=\"text\"\r\n                   name=\"message\"\r\n                   placeholder=\"Enter your message...\"\r\n            />\r\n\r\n            <button className=\"form__submit\" type=\"submit\">\r\n                <img src={send} alt=\"send\" />\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Form;","import './index.scss';\r\nimport Chat from \"../chat/Chat\";\r\nimport Form from \"../form/Form\";\r\n\r\n\r\nconst App = () => (\r\n    <div className=\"main\">\r\n        <Chat/>\r\n        <Form/>\r\n    </div>\r\n);\r\n\r\nexport default App;\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./reducer\";\r\n\r\nexport const store = createStore(reducer)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/app/App';\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <Provider store={store}>\r\n          <App />\r\n      </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}